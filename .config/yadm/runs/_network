#!/usr/bin/env bash

sudo apt remove firewalld kmail akregator kaddressbook
sudo apt install -y aria2 wget2 curl thunderbird rsync nfs-common kdeconnect sshfs openssh-server autossh msmtp msmtp-mta filezilla whois qbittorrent-nox

# WARN: Enable firewall for debian!
sudo apt install -y ufw
sudo systemctl enable ufw.service
sudo ufw default deny incoming
sudo ufw default allow outgoing

sudo ufw allow ssh
sudo ufw allow nfs

# KDE connect rules
sudo ufw allow 1716:1764/tcp
sudo ufw allow 1716:1764/udp

# Valutwarden
sudo ufw allow 8000/tcp

# Custom
sudo ufw allow 8080/tcp
sudo ufw allow 9090/tcp

sudo ufw enable
sudo ufw status verbose

# Add qbittorrent-nox
sudo systemctl enable --now "qbittorrent-nox@$USER"
